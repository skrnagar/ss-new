
Build Error
Failed to compile

Next.js (14.2.16) is outdated (learn more)
./lib/supabase-server.ts
Error: 
  × the name `createServerClient` is defined multiple times
    ╭─[/home/runner/workspace/lib/supabase-server.ts:1:1]
  1 │ 
  2 │ import { cookies } from 'next/headers'
  3 │ import { createServerClient } from '@supabase/ssr'
    ·          ─────────┬────────
    ·                   ╰── previous definition of `createServerClient` here
  4 │ import { createServerComponentClient } from '@supabase/auth-helpers-nextjs'
  5 │ import { Database } from '@/types/supabase'
  6 │ import { createClient as createSupabaseClient } from '@supabase/supabase-js'
  7 │ import { cache } from 'react'
  8 │ 
  9 │ // Create a cached version of the client to improve performance
 10 │ export const createLegacyClient = cache(() => {
 11 │   return createSupabaseClient(
 12 │     process.env.NEXT_PUBLIC_SUPABASE_URL!,
 13 │     process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!
 14 │   );
 15 │ });
 16 │ 
 17 │ // New SSR client creation function
 18 │ export function createClient() {
 19 │   const cookieStore = cookies()
 20 │   
 21 │   return createServerClient(
 22 │     process.env.NEXT_PUBLIC_SUPABASE_URL!,
 23 │     process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,
 24 │     {
 25 │       cookies: {
 26 │         get(name) {
 27 │           return cookieStore.get(name)?.value
 28 │         },
 29 │         set(name, value, options) {
 30 │           cookieStore.set({ name, value, ...options })
 31 │         },
 32 │         remove(name, options) {
 33 │           cookieStore.set({ name, value: '', ...options })
 34 │         },
 35 │       },
 36 │     }
 37 │   )
 38 │ }
 39 │ 
 40 │ // Legacy client for backward compatibility
 41 │ export const createServerClient = () => {
    ·              ─────────┬────────
    ·                       ╰── `createServerClient` redefined here
 42 │   const cookieStore = cookies()
 43 │   
 44 │   return createServerComponentClient<Database>({ cookies: () => cookieStore })
    ╰────
This error occurred during the build process and can only be dismissed by fixing the error.